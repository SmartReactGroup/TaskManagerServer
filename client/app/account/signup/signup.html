<div class="container mt-20">
    <div class="mb-20">
      <p>Already have an account? <a class="theme-text-color" routerLink="/login">Login</a></p>
    </div>
  <form class="form" name="form" (ngSubmit)="register(signupForm)" novalidate #signupForm="ngForm">
    <div class="form-group">
      <mat-form-field>
        <input matInput placeholder="Username" type="text" name="username"
          [(ngModel)]="user.username" #username="ngModel" required />
        <mat-error [hidden]="username.valid || (username.pristine && !signupForm.submitted)">
          Username is required
        </mat-error>
      </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field>
        <input matInput placeholder="Email" type="email" name="email"
          [(ngModel)]="user.email" #email="ngModel" required mongoose-error />
        <p class="help-block" [hidden]="email.valid || (email.pristine && !signupForm.submitted) || (email.errors ? email.errors.inUse : true)">
          Please enter a valid email address.
        </p>
        <p class="help-block" [hidden]="email.errors ? !email.errors.inUse : true">
          This email address is already in use.
        </p>
      </mat-form-field>
    </div>

    <div class="form-group">
      <mat-form-field>
        <input matInput placeholder="Password" type="password" name="password" [(ngModel)]="user.password"
          #password="ngModel" minlength="8" maxlength="128" required mongoose-error />
        <p class="help-block" [hidden]="password.valid || (password.pristine && !signupForm.submitted)">
          Password must be between 8 and 128 characters.
        </p>
        <p class="help-block" [hidden]="errors.password">{{errors.password}}</p>
      </mat-form-field>
    </div>
    <div class="form-group">
      <mat-form-field>
        <input matInput placeholder="Confirm Password" type="password" name="confirmPassword"
          [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel" ac-match-control="password" required />
        <p class="help-block" [hidden]="confirmPassword.valid || (confirmPassword.pristine && !signupForm.submitted)">
          Please confirm your password. Passwords must match.
        </p>
      </mat-form-field>
    </div>
    <div class="form-group">
      <button mat-raised-button type="submit" [disabled]="!signupForm.form.valid">Sign up</button>
    </div>
  </form>
</div>